---
layout: post
title: OpenGL基础
---

>在刚开始学习图形编程的时候它是一项令人生畏的任务。渲染管线设计大量的步骤，每一步又处理各种数学运算。stage为下一个stage运行实际的程序来计算结果。熟悉管线，把它当成工具来实现视觉特效，这是成为图形学程序员的本质。
这本书的这一小节介绍一些基础3D图形数学，OpenGL中的管线以及展示数据是怎么流经这些图形管线的。  
>译文：[http://www.arcsynthesis.org/gltut/Basics/Introduction.html](http://www.arcsynthesis.org/gltut/Basics/Introduction.html)

向量
---
这本书假设你熟悉代数学和几何学，但是向量数学不是必须的。后面的章节将会学习到更多复杂主题，但是这里仅仅介绍一些向量数学的基础。

一个向量可以有许多意思，取决于我门市在谈论几何上的还是数字上的。在每一种情形中，向量都有维度；一个二维向量局限于一个平面中，然而一个三维向量可以在任意物理空间中起作用。向量也可以有更高的维度，但是通常我们仅仅处理2到4维。

学术上将一个仅有一个维度的向量叫做*标量*。

在几何学方面，一个向量能够表示两种概念：在一个特定空间中的**位置**和**方向**。一个位置向量表示一个特定空间中的方位。例如，在下面这个图中我们有3个位置向量 A B C：

![VectorDirections]({{ site.baseurl }}/images/OpenGL基础/VectorPosition.svg)

一个向量也能表示一个方向。方向向量没有原点；它们仅仅指定一个空间中的方向。下面这幅图中都是方向向量，但是向量B和向量D是相同的，几十它们呗华仔不同的位置：

![VectorPosition]({{ site.baseurl }}/images/OpenGL基础/VectorDirections.svg)

向量也可以用于数字上的表述。这种向量是一系列的数字，每一个维度都是一个数字。因此一个二维向量有两个数字；一个三维向量有三个数字，以此类推。标量，就仅仅只有一个数字。

在向量中的每一个数字被叫做一个分量。每一个分量通常有一个名字。对于我们来说，向量的第一个分量是叫做**X分量**，第二个分量叫做**Y分量**，第三个叫做**Z分量**，而且如果有第四个，那么它叫做**W分量**。

当我们用文本来写一个向量时，它们被写在括号中。因此一个三维向量例如(0,2,4)；X分量是0，Y分量是2，Z分量是4.当将它们写在等式中的时候，他们被写成：

![ColumnVector]({{ site.baseurl }}/images/OpenGL基础/ColumnVector.svg)

在数学等式中，向量变量不仅适用粗体而且在变量的上面还有一个箭头。

当用图形画向量的时候，位置向量和方向向量就有区别了。然而，数字上的向量并没有任何区别。仅有的区别是如何使用而不是如何表示它们。因此你能够将一个位置向量看成是一个方向并且对它们应用一些向量运算，然后又将结果看成是一个位置向量。

即使向量有独立的数字分量，但是也有许多数学运算能够应用在向量上。我们将使用几何和数字两种方式来展示其中的一部分运算。

**向量加法** 图形上的表示如下：

![VectorAddition]({{ site.baseurl }}/images/OpenGL基础/VectorAddition.svg)

记住向量的方向能够被平移但不改变它们的值。因此如果你将两个向量的头尾相连，向量的加法就是从第一个向量的尾部到最后一个向量的头部的方向。

![VectorAdditionHeads]({{ site.baseurl }}/images/OpenGL基础/VectorAdditionHeads.svg)

数字上来说，两个向量的和就是将它们相应的分量加起来：

![VectorAdditionNum]({{ site.baseurl }}/images/OpenGL基础/VectorAdditionNum.svg)

任何作用在向量的每一个分量上的运算被称为分量按位运算(component-wise operation)。向量加法就是一个分量按位运算任何作用在两个向量上的分量按位运算要求两个向量有相同的维度。

**向量取反和减法** 图形上的表示如下：

![VectorNegation]({{ site.baseurl }}/images/OpenGL基础/VectorNegation.svg)

数字上来书，这意味着向量的每一个分量都取负数。

![VectorNegationNum]({{ site.baseurl }}/images/OpenGL基础/VectorNegationNum.svg)

就像标量，向量的减法如同将一个向量加上另一个向量的取反。

![VectorSubtraction]({{ site.baseurl }}/images/OpenGL基础/VectorSubtraction.svg)

**向量乘法** 向量乘法是向量运算中少数没有几何上的等价表示中的一个。将一个方向乘上另一个方向，或者将一个位置乘上另一个位置都没有实际意义。但是那并不是说数字上的等式没有用。

向量相乘在数字上也是想向量加法一样简单的将分量相乘。

![VectorMultiplicationNum]({{ site.baseurl }}/images/OpenGL基础/VectorMultiplicationNum.svg)

向量能够乘上一个标量意味着伸长或者缩短向量的长度，这取决于标量的值。

![VectorScalarMult]({{ site.baseurl }}/images/OpenGL基础/VectorScalarMult.svg)

数字上来讲，这也是个分量按位乘法，向量中的每一个分量都会乘上这个标量。

![VectorScalarMultNum]({{ site.baseurl }}/images/OpenGL基础/VectorScalarMultNum.svg)

向量也能够加上一个标量。这像是向量乘以向量，是没有几何表示的。它是一个分量按位加法。

![VectorScalarAddNum]({{ site.baseurl }}/images/OpenGL基础/VectorScalarAddNum.svg)

**向量代数** 了解一些向量运算县官的规则是很有用的。向量加法和乘法遵循许多和标量加法乘法一样的规则。它们是交换律，结合律和分配律。

![VectorMathProperties]({{ site.baseurl }}/images/OpenGL基础/VectorMathProperties.svg)

向量/标量 运算有一些相思的属性。

**长度** 向量是有长度的。向量的长度是从向量的起始点到终点的距离。数字上来说，计算向量距离需要这个等式：

![VectorLengthNum]({{ site.baseurl }}/images/OpenGL基础/VectorLengthNum.svg)

这个等式使用毕达哥拉斯定理来计算向量长度。这个等式可以用在任意维度的向量上，而不仅仅是二维或者三维。

**单位向量和正规化** 一个长度为一的向量被称为*单位向量*。单位向量拥有一个单位长度，它用来表示一个方向。在数学表达式中通常在单位向量变量的上面写上^。

一个向量能够通过正规化被转换成一个单位向量。这是通过将向量除以它的长度完成的，公示如下：

![VectorNormalizationNum]({{ site.baseurl }}/images/OpenGL基础/VectorNormalizationNum.svg)

这不是这写教程中所有的向量数学。新的向量数学运算将在第一次需要实用的时候被介绍和解释。并且它们中的大多数都不是分量按位运算。
