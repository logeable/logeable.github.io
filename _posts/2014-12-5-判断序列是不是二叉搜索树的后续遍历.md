---
layout: post
title: 判断序列是不是二叉搜索树的后续遍历
category: [algorithm]
---

这一题是暑假面试百度实习的时候没做出来的一道题。

---

####二叉搜索树后序遍历的规律是左子树的后续遍历序列都比根小，右子树后序遍历序列都比根大，形如[左子树  右子树 根]。判断方法就是从左遍历序列，找出第一个比根大的元素，然后从这个元素到根（不包括根）的元素都必须比根大。然后递归的判断左右子序列，当子序列只有一个或没有节点的时候返回真。
```c++
bool judge(vector<int>::iterator first,vector<int>::iterator last)
{
	if(first==last||distance(first,last)==1)
	{
		return true;
	}
	auto root=last-1;
	vector<int>::iterator pos=first;
	for(auto iter=first;iter!=root;iter++)
	{
		if(*iter>*root)
		{
			pos=iter;
			break;
		}
	}
	for(auto iter=pos;iter!=root;iter++)
	{
		if(*iter<*root)
		{
			return false;
		}
	}
	return judge(first,pos)&&judge(pos,root);
}
bool isBinarySearchTreePostOrder(vector<int> vec)
{
	judge(vec.begin(),vec.end());
}

```